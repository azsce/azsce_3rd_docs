شرح نموذجي المقطع الضوئي والعاكس الضوئي مع الدوائر التطبيقية

**مقدمة: أجهزة الإحساس الضوئية المتكاملة**

أجهزة الإحساس الضوئية المتكاملة هي مكونات إلكترونية تجمع بين مصدر للضوء (عادة دايود باعث للضوء يعمل بالأشعة تحت الحمراء - IR LED) ومستشعر ضوئي (عادة ترانزستور ضوئي - Phototransistor) في حزمة واحدة متكاملة. هذا التكامل يوفر العديد من المزايا مثل التوافق الطيفي بين الباعث والمستقبل، والتصويب والمسافة المثالية المحددة مسبقًا أثناء التصنيع، وتوحيد المقاييس مما يسهل الاستخدام الاقتصادي في الإنتاج الكمي.
النوعان الرئيسيان اللذان سنناقشهما هما:
1.  **نموذج المقطع الضوئي (Optical Interrupter / Slotted Optocoupler)**
2.  **نموذج العاكس الضوئي (Reflective Optosensor)**

---

**1. نموذج المقطع الضوئي (Optical Interrupter / Slotted Optocoupler)**

*   **التركيب (Structure):**
    يتكون المقطع الضوئي من دايود باعث للضوء (عادة IR LED) وترانزستور ضوئي مثبتين في حزمة واحدة بحيث يواجهان بعضهما البعض عبر فجوة أو فتحة (شق). الدايود الباعث يكون في أحد جوانب الفتحة، والترانزستور الضوئي في الجانب المقابل.

    *الشكل التوضيحي للمقطع الضوئي (مستوحى من الشكل أ في صفحة OCR 22):*
    ```
       +Vcc                +Vcc
        |                   |
        R_LED               R_PULLUP
        |                   |
       ---                 ---
      |LED|> ---   شق   ---|PHT|  <--- Output
       ---   (Gap)      | | ---
        |                  GND
       GND
    (الباعث)           (المستقبل)
    ```
    (LED: دايود باعث للضوء, PHT: ترانزستور ضوئي, R_LED: مقاومة تحديد تيار الباعث, R_PULLUP: مقاومة السحب لأعلى)

*   **مبدأ العمل (Operating Principle):**
    1.  الدايود الباعث للضوء (LED) يكون مضاءً بشكل ثابت عند تغذيته بالتيار المناسب.
    2.  في الحالة الطبيعية (عدم وجود جسم في الفتحة)، يسقط الضوء المنبعث من الـ LED مباشرة على قاعدة الترانزستور الضوئي.
    3.  هذا الضوء يجعل الترانزستور الضوئي في حالة توصيل (ON)، وبالتالي يكون جهد الخرج (Output) منخفضًا (قريبًا من جهد الأرض GND).
    4.  عندما يمر جسم معتم عبر الفتحة (الشق)، فإنه يحجب شعاع الضوء عن الوصول إلى الترانزستور الضوئي.
    5.  غياب الضوء يجعل الترانزستور الضوئي في حالة قطع (OFF)، وبالتالي يرتفع جهد الخرج (Output) إلى قيمة عالية (قريبة من جهد التغذية +Vcc بسبب مقاومة السحب لأعلى R_PULLUP).
    بهذه الطريقة، يمكن اكتشاف وجود أو غياب جسم ما يمر عبر الفتحة.

*   **الدائرة التطبيقية الأساسية (Basic Application Circuit):**
    (كما هو موضح في الشكل التوضيحي أعلاه، ومستوحى من شكل (أ) في صفحة OCR 24)
    1.  **دائرة الباعث (LED):** يتم توصيل الدايود الباعث للضوء (LED) على التوالي مع مقاومة (R_LED) لتحديد التيار المار فيه، ويوصلان بمصدر جهد (مثل +5 فولت). القيمة الشائعة للمقاومة قد تكون حوالي 100 أوم مع مصدر 5 فولت (لتحديد التيار المناسب للـ LED).
    2.  **دائرة المستقبل (Phototransistor):**
        *   باعث (Emitter) الترانزستور الضوئي يوصل بالأرضي (GND).
        *   مجمع (Collector) الترانزستور الضوئي يوصل بمقاومة سحب لأعلى (R_PULLUP) قيمتها عادة عدة كيلو أوم (مثل 4.7 كيلو أوم)، والطرف الآخر للمقاومة يوصل بمصدر الجهد (+5 فولت).
        *   يؤخذ جهد الخرج (Output) من نقطة المجمع.
    *   **الخرج المنطقي:**
        *   **لا يوجد جسم (الفتحة فارغة):** الضوء يصل للترانزستور -> الترانزستور ON -> الخرج LOW (منطق 0).
        *   **يوجد جسم (الفتحة مسدودة):** الضوء محجوب -> الترانزستور OFF -> الخرج HIGH (منطق 1).

*   **المميزات (Advantages):**
    *   استشعار غير تلامسي (لا يوجد احتكاك ميكانيكي).
    *   موثوقية عالية وعمر تشغيلي طويل.
    *   استجابة سريعة.
    *   حصانة جيدة ضد الضوء المحيط (خاصة عند استخدام الأشعة تحت الحمراء).
    *   بساطة الدائرة.

*   **العيوب/المحددات (Disadvantages/Limitations):**
    *   يجب أن يمر الجسم المراد كشفه عبر الفتحة الفيزيائية.
    *   حجم الفتحة يحد من حجم الأجسام التي يمكن اكتشافها (عادةً ما تكون الفتحات أقل من 0.375 بوصة).

*   **التطبيقات (Applications):**
    *   اكتشاف مرور الأجسام (مثل الأوراق في الطابعات، المنتجات على خطوط التجميع).
    *   مفاتيح نهاية الشوط (Limit switches).
    *   مُشفِّرات الدوران (Rotary encoders) لقياس السرعة والموضع الزاوي (مثل التاكومتر).
    *   مُشفِّرات الحركة الخطية (Linear encoders) لقياس الموضع الخطي.
    *   اكتشاف حضور أو غياب بطاقات التذاكر، الشرائط، أو أي أهداف معتمة أخرى.

---

**2. نموذج العاكس الضوئي (Reflective Optosensor)**

*   **التركيب (Structure):**
    في العاكس الضوئي، يتم تثبيت الدايود الباعث للضوء (IR LED) والترانزستور الضوئي جنبًا إلى جنب في نفس الحزمة، ويكونان موجهين في نفس الاتجاه. يتم تصميم بصريات الجهاز بحيث تتقارب محاورهما الضوئية عند نقطة بؤرية (focal point) تقع على مسافة قصيرة أمام سطح المستشعر.

    *الشكل التوضيحي للعاكس الضوئي (مستوحى من الشكل ب في صفحة OCR 22):*
    ```
       +Vcc                +Vcc
        |                   |
        R_LED               R_PULLUP
        |                   |
       ---      سطح عاكس   ---
      |LED|>  <---------- |PHT|  <--- Output
       ---      (Reflective | | ---
        |        Surface)    GND
       GND
    (الباعث)           (المستقبل)
    ```

*   **مبدأ العمل (Operating Principle):**
    1.  الدايود الباعث للضوء (LED) يضيء بشكل ثابت.
    2.  إذا وجد سطح عاكس بالقرب من النقطة البؤرية أمام المستشعر، فإن الضوء المنبعث من الـ LED ينعكس عن هذا السطح ويسقط على قاعدة الترانزستور الضوئي.
    3.  هذا الضوء المنعكس يجعل الترانزستور الضوئي في حالة توصيل (ON)، وبالتالي يكون جهد الخرج (Output) منخفضًا.
    4.  إذا لم يكن هناك سطح عاكس، أو كان السطح بعيدًا جدًا أو غير عاكس (يمتص الضوء)، فإن كمية قليلة جدًا من الضوء (أو لا ضوء) تصل إلى الترانزستور الضوئي.
    5.  في هذه الحالة، يبقى الترانزستور الضوئي في حالة قطع (OFF)، ويكون جهد الخرج (Output) مرتفعًا.
    يعتمد المستشعر على وجود سطح يعكس الضوء من الباعث إلى المستقبل.

*   **الدائرة التطبيقية الأساسية (Basic Application Circuit):**
    الدائرة الأساسية مشابهة جدًا لدائرة المقطع الضوئي:
    1.  **دائرة الباعث (LED):** LED على التوالي مع مقاومة تحديد التيار (R_LED) بمصدر جهد.
    2.  **دائرة المستقبل (Phototransistor):** باعث الترانزستور بالأرضي، ومجمعه بمقاومة سحب لأعلى (R_PULLUP) بمصدر الجهد، والخرج من المجمع.
    *   **الخرج المنطقي:**
        *   **يوجد سطح عاكس قريب:** الضوء ينعكس للترانزستور -> الترانزستور ON -> الخرج LOW (منطق 0).
        *   **لا يوجد سطح عاكس / السطح بعيد / غير عاكس:** لا ضوء (أو قليل) ينعكس -> الترانزستور OFF -> الخرج HIGH (منطق 1).

*   **المميزات (Advantages):**
    *   لا يتطلب مرور الجسم عبر فتحة، بل يكفي وجوده أمام المستشعر.
    *   يمكن استخدامه لكشف الأسطح أو الحواف.
    *   مناسب لتتبع الخطوط (Line following) في الروبوتات.

*   **العيوب/المحددات (Disadvantages/Limitations):**
    *   مسافة الاستشعار عادة ما تكون قصيرة (أقل من 0.5 بوصة).
    *   يعتمد أداء المستشعر بشكل كبير على مدى انعكاسية السطح المستهدف ولونه. الأسطح الداكنة أو الماصة للضوء قد لا يتم اكتشافها بشكل جيد.
    *   أكثر عرضة للتأثر بالضوء المحيط والغبار على الأسطح البصرية مقارنة بالمقطع الضوئي.

*   **التطبيقات (Applications):**
    *   اكتشاف وجود الأجسام القريبة.
    *   اكتشاف الحواف.
    *   روبوتات تتبع الخطوط (باستخدام سطح أبيض وخط أسود أو العكس).
    *   قياس سرعة الدوران (RPM) عن طريق وضع شريط عاكس على جسم دوار.
    *   اكتشاف حركات واهتزازات طفيفة لجسم عاكس.
    *   تطبيقات طبية مثل مراقبة معدل ضربات القلب (عن طريق استشعار تغيرات انعكاس الدم في الجلد).

---

**دوائر تطبيقية متقدمة (تشمل المقطعات والعواكس)**

*   **دوائر تكييف الإشارة (Signal Conditioning):**
    في بعض الأحيان، قد يكون الخرج من الترانزستور الضوئي مباشرةً غير نقي أو يحتوي على ضوضاء، خاصة عند تغيرات الضوء البطيئة أو عندما يكون الجسم على حافة الكشف. لتنظيف هذا الخرج وجعله مناسبًا للدوائر الرقمية، يمكن استخدام:
    *   **مكبر تشغيل (Operational Amplifier):** يمكن استخدامه كمقارن (Comparator) لتحويل الإشارة التناظرية أو البطيئة إلى نبضة رقمية حادة.
    *   **مشغل شميت (Schmitt Trigger):** يوفر تباطؤ (hysteresis) يساعد في منع التذبذبات المتعددة للخرج عندما تكون إشارة الدخل قريبة من عتبة التحويل.
    (مستوحى من الشكل ب في صفحة OCR 24)

*   **تطبيقات التاكومتر/المُشفِّر (Tachometer/Encoder Applications):**
    (مستوحى من الأشكال في صفحة OCR 25 و 26)
    1.  **قياس سرعة الدوران (RPM) باستخدام المقطع الضوئي:**
        *   يتم تثبيت قرص به عدد معروف من الشقوق (عجلة فك الشفرة الضوئية) على عمود دوران المحرك.
        *   يتم وضع المقطع الضوئي بحيث يمر القرص عبر فتحته.
        *   مع دوران العمود، كل شق يمر عبر المقطع الضوئي يولد نبضة كهربائية.
        *   يتم عد هذه النبضات بواسطة دائرة عداد (مثل متحكم دقيق) خلال فترة زمنية محددة لحساب سرعة الدوران.
    2.  **قياس الوضع الزاوي والسرعة الزاوية باستخدام المقطع الضوئي:**
        *   يمكن تصميم قرص التشفير بفتحات متعددة موزعة بزوايا محددة.
        *   عدد النبضات واتجاهها (إذا استخدم أكثر من مقطع) يمكن أن يحدد الوضع الزاوي والسرعة بدقة.
    3.  **قياس الوضع والسرعة الخطية باستخدام المقطع الضوئي:**
        *   يتم استخدام شريط أو مسطرة مشفرة بفتحات أو علامات معتمة/شفافة تمر عبر المقطع الضوئي.
    4.  **قياس سرعة الدوران باستخدام العاكس الضوئي:**
        *   يتم وضع علامة عاكسة (مثل شريط لاصق عاكس) على الجزء الدوار.
        *   يوجه العاكس الضوئي نحو مسار العلامة.
        *   كل مرة تمر العلامة العاكسة أمام المستشعر، تتولد نبضة.

---

**جداول المقارنات**

**جدول 1: مقارنة بين المقطع الضوئي والعاكس الضوئي**

| الميزة                 | المقطع الضوئي (Optical Interrupter)                     | العاكس الضوئي (Reflective Optosensor)                       |
| :--------------------- | :------------------------------------------------------- | :---------------------------------------------------------- |
| **آلية العمل**        | حجب شعاع ضوئي مباشر بين الباعث والمستقبل                | انعكاس شعاع ضوئي من سطح مستهدف إلى المستقبل                 |
| **وضع الباعث والمستقبل** | متقابلان عبر فجوة (شق)                                  | متجاوران، موجهان في نفس الاتجاه                             |
| **نوع الكشف**          | اكتشاف جسم يمر عبر الفجوة                               | اكتشاف سطح أو جسم أمام المستشعر                             |
| **مسافة الاستشعار**    | محدودة بعرض الفجوة (عادة صغيرة جدًا)                     | قصيرة (عادة أقل من 0.5 بوصة)                                |
| **الاعتماد على السطح** | لا يعتمد على خصائص سطح الجسم (طالما الجسم معتم)           | يعتمد بشدة على انعكاسية ولون السطح المستهدف                 |
| **الحساسية للغبار**    | أقل حساسية نسبيًا                                        | أكثر حساسية للغبار على البصريات أو السطح العاكس              |
| **التطبيقات الشائعة**  | مشفرات، مفاتيح نهاية الشوط، كشف الأوراق، عد الأشياء      | تتبع الخطوط، كشف الحواف، كشف القرب، قياس النبض               |
| **الوصول للجسم**       | يتطلب مرور الجسم بالكامل عبر الفجوة                       | يكفي الوصول لجانب واحد من الجسم                              |

**جدول 2: ملخص عام لأجهزة الإحساس الضوئية المتكاملة (المقطع والعاكس)**

| الخاصية                    | الوصف                                                                                |
| :------------------------- | :----------------------------------------------------------------------------------- |
| **مصدر الضوء**             | دايود باعث للضوء (عادة IR LED)                                                       |
| **المستشعر الضوئي**        | ترانزستور ضوئي (Phototransistor)                                                     |
| **جهد التشغيل**            | عادة متوافق مع مستويات الجهد الرقمي (مثل 5 فولت، ويمكن أن يصل إلى 20 فولت تيار ثابت) |
| **الخرج**                  | عادة خرج رقمي (عالي/منخفض) يتناسب مع حالة الكشف.                                     |
| **الاستجابة**              | سريعة، مناسبة لاكتشاف الأحداث السريعة.                                               |
| **الموثوقية**              | عالية بسبب عدم وجود أجزاء ميكانيكية متحركة.                                          |
| **التكامل**                | الباعث والمستقبل في حزمة واحدة، مما يضمن التوافق والمحاذاة.                          |
| **الحاجة لمعالجة الإشارة** | قد تحتاج إلى دوائر تكييف (مثل مشغل شميت) لتنظيف الخرج في بعض التطبيقات.              |
